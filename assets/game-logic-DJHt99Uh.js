import{r as e}from"./vendor-vue-Ck4w-aqf.js";function a(){const e=["♠","♥","♦","♣"],a=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],t=[];for(const r of e)for(const e of a)t.push({suit:r,rank:e});return function(e){const a=[...e];for(let t=a.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[a[t],a[e]]=[a[e],a[t]]}return a}(t)}function t(e){let a=0,t=0;for(const r of e)"A"===r.rank?t+=1:["K","Q","J"].includes(r.rank)?a+=10:a+=parseInt(r.rank);for(let r=0;r<t;r++)a+=a+11<=21?11:1;return a}function r(){const r=e({deck:[],playerHand:[],dealerHand:[],gameStatus:"betting"}),u=e=>{const a=r.value.deck.pop();a&&("player"===e?r.value.playerHand.push(a):r.value.dealerHand.push(a))};return{gameState:r,startNewGame:()=>{r.value={deck:a(),playerHand:[],dealerHand:[],gameStatus:"playing"},u("player"),u("dealer"),u("player"),u("dealer")},hit:()=>{u("player");t(r.value.playerHand)>21&&(r.value.gameStatus="playerBust")},stand:()=>{for(;t(r.value.dealerHand)<17;)u("dealer");const e=t(r.value.playerHand),a=t(r.value.dealerHand);r.value.gameStatus=a>21?"dealerBust":a>e?"dealerWin":e>a?"playerWin":"push"}}}function u(){const t=e({deck:[],playerHand:[],communityCards:[],gameStatus:"betting",chips:1e3,currentBet:0}),r=()=>{t.value={deck:a(),playerHand:[],communityCards:[],gameStatus:"preFlop",chips:1e3,currentBet:0},u()},u=()=>{t.value.playerHand=[t.value.deck.pop(),t.value.deck.pop()]};return{gameState:t,startNewGame:r,dealCommunityCards:()=>{switch(t.value.gameStatus){case"preFlop":t.value.communityCards=[t.value.deck.pop(),t.value.deck.pop(),t.value.deck.pop()],t.value.gameStatus="flop";break;case"flop":t.value.communityCards.push(t.value.deck.pop()),t.value.gameStatus="turn";break;case"turn":t.value.communityCards.push(t.value.deck.pop()),t.value.gameStatus="river"}},fold:()=>{r()}}}export{u as a,r as u};
